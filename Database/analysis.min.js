let temp,jsonFilePath;
let com,stdSchema,teaSchema,libSchema,bookSchema,brrSchema;
function setLocalData(){
    jsonFilePath = './Database/localData.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        com = temp;
    }).catch(err => console.log("Error to fetching local data \n",err));
}
function setStudentSchema(){
    jsonFilePath = './Database/studentSchema.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        stdSchema = temp;
    }).catch(err => console.log("Error to fetching student schema \n",err));
}
function setTeacherSchema(){
    jsonFilePath = './Database/teacherSchema.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        teaSchema = temp;
    }).catch(err => console.log("Error to fetching teacher schema \n",err));
}
function setBookSchema(){
    jsonFilePath = './Database/bookSchema.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        bookSchema = temp;
    }).catch(err => console.log("Error to fetching book schema \n",err));
}
function setBorrowSchema(){
    jsonFilePath = './Database/borrowSchema.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        brrSchema = temp;
    }).catch(err => console.log("Error to fetching borrow schema \n",err));
}
function setLibrarianSchema(){
    jsonFilePath = './Database/librarianSchema.json';
    fetch(jsonFilePath)
    .then(response => {
        if(!response.ok){
            throw new Error('Net response not ok!');
        }
        return response.json();
    })
    .then(temp => {
        libSchema = temp;
    }).catch(err => console.log("Error to fetching librarian schema \n",err));
}
function getLocalData(id){
    setLocalData();
    let bd = document.getElementById(id);
    setTimeout(()=>{
        try{
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.name}}',com.name);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.owner}}',com.owner);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.founder}}',com.founder);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.recovery-path}}',com.recoveryPath);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.version}}',com.AboutSoftware.version);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.description}}',com.AboutSoftware.Description);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.facebook}}',com.Socials.facebook);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.youtube}}',com.Socials.youtube);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.github}}',com.Socials.github);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.linkedin}}',com.Socials.linkedin);
            bd.innerHTML = bd.innerHTML.replaceAll('{{com.instagram}}',com.Socials.instagram);
        }catch(e){
            alert("ImplementaionError: Data fetch not possible in frontend side!");
        }
    },1000);
}